---
layout: blogger
title: ClickCountTrigger para Silverlight no Expression Gallery
date: 2011-07-29T20:08:00.0010000-03:00
permalink: /:year/:month/:slug:output_ext
tags: [Expression Gallery, Silverlight, Silverlight 4, Behavior]
---
<p><a href="http://lh6.ggpht.com/-KGrFLZdzBmU/TjM9WlVwxWI/AAAAAAAAA5c/EdmwwJTi268/s1600-h/double-click-icon%25255B9%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: left; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="double-click-icon" border="0" alt="double-click-icon" align="left" src="http://lh6.ggpht.com/-jjQ4v65KZKY/TjM9XNtaQQI/AAAAAAAAA5g/7oaFW3VxOkU/double-click-icon_thumb%25255B7%25255D.png?imgmax=800" width="60" height="60"></a></p> <p> </p> <p> Acabei de publicar uma nova trigger no <a href="http://gallery.expression.microsoft.com/site/search?f%5B0%5D.Type=User&f%5B0%5D.Value=Kelps%20Leite%20de%20Sousa&f%5B0%5D.Text=Kelps%20Leite%20de%20Sousa&sortBy=Date">Expression Gallery</a>, chamada <a href="http://gallery.expression.microsoft.com/ClickCountTrigger">ClickCountTrigger</a>.</p> <p>Esta trigger serve para simplificar nossa vida quando queremos implementar duplo click em Silverlight, já que a plataforma não fornece uma implementação nativa desse evento. Decidi fazer a trigger de forma genérica e por isso implementei como click count ao invés de double click. Sendo assim, tornei possível que essa trigger seja utilizada para adicionar cliques triplos, quaduplos ou até mais em aplicações Silverlight. Eu não consigo imaginar situações onde mais do que 3 cliques façam algum sentido, mas a minha imaginação não deve limitar a sua <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-winkingsmile" alt="Winking smile" src="http://lh6.ggpht.com/-BmNrKVoVJN4/TjM9XZdpoEI/AAAAAAAAA5k/JHOrxOqHguY/wlEmoticon-winkingsmile%25255B2%25255D.png?imgmax=800">.</p> <p>Para configurar a trigger no Expression Blend, basta escolher um controle que deverá ter algum comportamento ao receber um duplo click, adicionar uma Action a ele e depois mudar a trigger padrão dessa Action para ClickCountTrigger e configurar quantos cliques disparam a ação. Abaixo temos alguns prints mostrando a trigger configurada em um botão, em conjunto com a Action <a href="http://gallery.expression.microsoft.com/FullScreenAction">ToggleFullScreenAction</a>. Este exemplo é do código do live sample que está na página da trigger na galeria.</p> <p>Action aplicada no botão</p> <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Action ToggleFullScreenAction configurada em um Button" border="0" alt="Action ToggleFullScreenAction configurada em um Button" src="http://lh4.ggpht.com/-Xr6wRUm8OyU/TjM9Xwz5VVI/AAAAAAAAA5o/5NK6U3Tzn9o/image%25255B11%25255D.png?imgmax=800" width="211" height="56"></p> <p>Janela de propriedades da Action, mostrando sua configuração e a da trigger.</p> <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Propriedades da trigger ClickCountTrigger e da action de fullscreen" border="0" alt="Propriedades da trigger ClickCountTrigger e da action de fullscreen" src="http://lh3.ggpht.com/-IIETR5nYYpc/TjM9YMUbNHI/AAAAAAAAA5s/O6Gsld3QlUY/image%25255B12%25255D.png?imgmax=800" width="340" height="235"></p> <p>Configuração da trigger e action no xaml</p><pre style="line-height: normal; font-family: ; background: white; color: "><font face="Consolas"><span style="color: "><font color="#0000ff"><font style="font-size: 9.8pt"><</font></font></span><font style="font-size: 9.8pt"><span style="color: "><font color="#a31515">Button</font></span><span style="color: "><font color="#ff0000"> Content</font></span><font color="#0000ff"><span style="color: ">=</span><span style="color: ">"Double-Click to Toggle Full Screen"</span><span style="color: ">></span></font><br /><span style="color: "><font color="#a31515">    </font></span><span style="color: "><font color="#0000ff"><</font></span><span style="color: "><font color="#a31515">i</font></span><span style="color: "><font color="#0000ff">:</font></span><span style="color: "><font color="#a31515">Interaction.Triggers</font></span><span style="color: "><font color="#0000ff">></font></span><br /><span style="color: "><font color="#a31515">        </font></span><span style="color: "><font color="#0000ff"><</font></span><span style="color: "><font color="#a31515">cnzk</font></span><span style="color: "><font color="#0000ff">:</font></span><span style="color: "><font color="#a31515">ClickCountTrigger</font></span><span style="color: "><font color="#ff0000"> ClickCount</font></span><font color="#0000ff"><span style="color: ">=</span><span style="color: ">"2"</span><span style="color: ">></span></font><br /><span style="color: "><font color="#a31515">            </font></span><span style="color: "><font color="#0000ff"><</font></span><span style="color: "><font color="#a31515">cnzk</font></span><span style="color: "><font color="#0000ff">:</font></span><span style="color: "><font color="#a31515">ToggleFullScreenAction</font></span><span style="color: "><font color="#0000ff"> /></font></span><br /><span style="color: "><font color="#a31515">        </font></span><span style="color: "><font color="#0000ff"></</font></span><span style="color: "><font color="#a31515">cnzk</font></span><span style="color: "><font color="#0000ff">:</font></span><span style="color: "><font color="#a31515">ClickCountTrigger</font></span><span style="color: "><font color="#0000ff">></font></span><br /><span style="color: "><font color="#a31515">    </font></span><span style="color: "><font color="#0000ff"></</font></span><span style="color: "><font color="#a31515">i</font></span><span style="color: "><font color="#0000ff">:</font></span><span style="color: "><font color="#a31515">Interaction.Triggers</font></span><span style="color: "><font color="#0000ff">></font></span><br /><span style="color: "><font color="#0000ff"></</font></span><span style="color: "><font color="#a31515">Button</font></span><span style="color: "><font color="#0000ff">></font></span><br /></font></font></pre><br /><p>Declaração no xaml dos namespaces necessários para utilizar tanto a trigger quanto a action:</p><pre style="line-height: normal; font-family: ; background: white; color: "><font face="Consolas"><span style="color: "><font color="#ff0000"><font style="font-size: 9.8pt">xmlns</font></font></span><font style="font-size: 9.8pt"><span style="color: "><font color="#0000ff">:</font></span><span style="color: "><font color="#ff0000">i</font></span><font color="#0000ff"><span style="color: ">=</span><span style="color: ">"http://schemas.microsoft.com/expression/2010/interactivity"</span></font><br /><span style="color: "><font color="#ff0000">xmlns</font></span><span style="color: "><font color="#0000ff">:</font></span><span style="color: "><font color="#ff0000">cnzk</font></span><font color="#0000ff"><span style="color: ">=</span><span style="color: ">"http://schemas.cnzk.com.br/library"</span></font><br /></font></font></pre><br /><p>Se você utilizar algumas das minhas behaviors, triggers ou actions publicadas no Expression Gallery e tiver algum tipo de feedback ou bug para reportar, pode postar um comentário aqui no blog ou na <a href="http://cnzklibrary.codeplex.com/">página do projeto no codeplex</a>. </p><br /><p>Espero que esta trigger seja útil para vocês, pois pra mim ela já está sendo.</p>  
